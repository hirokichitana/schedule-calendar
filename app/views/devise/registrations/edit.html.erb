<% breadcrumb :registrations_edit %>

<div class="container">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="user-top">
      <div class="user-name">
        <h2>変更情報を入力してください</h2>
      </div>
      <div class="top-content">
        <div class="top-link">
          <%= link_to "アカウント削除", registration_path(resource_name), data: { confirm: "アカウントを削除しますか?" }, method: :delete, class: "btn btn-outline-dark" %>
        </div>
      </div>
    </div>
    <%= render "devise/shared/error_messages", resource: resource %>
    <form class="row g-3">
      <div class="content">
        <label for="inputEmail4" class="form-label">名前（必須）</label>
        <%= f.text_area :name, class: "form-control", id: "inputEmail4", placeholder:"例) 田中太郎", maxlength:"40" %>
      </div>
      <div class="content">
        <label for="inputEmail4" class="form-label">電話番号（必須）</label>
        <%= f.text_field :telephone_number, class: "form-control", id: "inputEmail4", placeholder:"例）09012345678",maxlength:"11"%>
      </div>
      <div class="content">
        <label for="inputEmail4" class="form-label">メールアドレス（必須）</label>
          <%= f.email_field :email, class: "form-control", id: "inputEmail4", placeholder:"PC・携帯どちらでも可", autofocus: true %>
            <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
          <% end %>
      </div>
      <div class="content">
        <label for="inputPassword4" class="form-label">新パスワード（必須）</label>
        <%= f.password_field :password, class: "form-control", id: "inputPassword4", placeholder:"6文字以上の半角英数字" %>
      </div>
      <div class="content">
        <label for="inputPassword4" class="form-label">新パスワード確認（必須）</label>
        <%= f.password_field :password_confirmation, class: "form-control", id: "inputPassword4", placeholder:"同じパスワードを入力して下さい" %>
      </div>
      <div class="content">
        <label for="inputPassword4" class="form-label">現在のパスワード（必須）</label>
        <%= f.password_field :current_password, class: "form-control", id: "inputPassword4", placeholder:"6文字以上の半角英数字" %>
      </div>
      <div class="content">
        <label for="inputEmail4" class="form-label">生年月日（必須）</label>
        <div class='input-birth-wrap'>
          <%= raw sprintf(
                      f.date_select(
                        :birth_date,
                        class:'select-birth',
                        id:"birth-date",
                        use_month_numbers: true,
                        prompt:'--',
                        start_year: 1930,
                        end_year: (Time.now.year - 5),
                        date_separator: '%s'),
                      "<p> 年 </p>", "<p> 月 </p>") + "<p> 日 </p>" %>
        </div>
      </div>
      <div class="content">
        <label for="inputEmail4" class="form-label">所属部署（任意）</label>
        <%= f.text_area :department, class: "form-control", id: "inputEmail4", placeholder:"例) 総務部", maxlength:"40" %>
      </div>
      <div class="content">
        <label for="inputEmail4" class="form-label">役職（任意）</label>
        <%= f.text_area :position, class: "form-control", id: "inputEmail4", placeholder:"例) 課長", maxlength:"40" %>
      </div>

      <div class="col-12">
        <%= f.submit "ユーザー情報変更", class: "btn btn-primary" %>
      </div>
    </form>
  <% end %>
</div>